{"uid":"4c34a58c075133ab","name":"test_oauth_spoe","fullName":"tests.integration.test_oauth_spoe#test_oauth_spoe","historyId":"7e6badc8101c68570b5a6b655eca330e","time":{"start":1769872732776,"stop":1769872964878,"duration":232102},"description":"\n    Deploy haproxy.\n    Deploy three anycharms that implement haproxy-route using three different hostnames.\n    Protect two of them with haproxy-spoe-auth.\n    The two protected ones should require OIDC authentication.\n    The unprotected one can be accessed directly.\n    ","descriptionHtml":"<pre><code>Deploy haproxy.\nDeploy three anycharms that implement haproxy-route using three different hostnames.\nProtect two of them with haproxy-spoe-auth.\nThe two protected ones should require OIDC authentication.\nThe unprotected one can be accessed directly.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"lxd_juju","time":{"start":1769872473103,"stop":1769872555857,"duration":82754},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1769872555857,"stop":1769872556821,"duration":964},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_manager","time":{"start":1769872556821,"stop":1769872719081,"duration":162260},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769872719081,"stop":1769872719082,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"iam_bundle","time":{"start":1769872719082,"stop":1769872728072,"duration":8990},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"any_charm_haproxy_route_deployer","time":{"start":1769872719082,"stop":1769872719082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"application","time":{"start":1769872728072,"stop":1769872731228,"duration":3156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"certificate_provider_application","time":{"start":1769872731228,"stop":1769872732343,"duration":1115},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"haproxy_spoe_auth_deployer","time":{"start":1769872731228,"stop":1769872731228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"configured_application_with_tls_base","time":{"start":1769872732343,"stop":1769872732775,"duration":432},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"configured_application_with_tls","time":{"start":1769872732775,"stop":1769872732775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1769872732775,"stop":1769872732775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Deploy haproxy.\n    Deploy three anycharms that implement haproxy-route using three different hostnames.\n    Protect two of them with haproxy-spoe-auth.\n    The two protected ones should require OIDC authentication.\n    The unprotected one can be accessed directly.\n    ","status":"passed","steps":[],"attachments":[{"uid":"628b89aea0541e9b","name":"log","source":"628b89aea0541e9b.txt","type":"text/plain","size":936340}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"configured_application_with_tls::0","time":{"start":1769872964879,"stop":1769872964879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1769872964879,"stop":1769872964879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"haproxy_spoe_auth_deployer::0","time":{"start":1769872964880,"stop":1769872964880,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"any_charm_haproxy_route_deployer::0","time":{"start":1769872964880,"stop":1769872964880,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1769872964881,"stop":1769872964881,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_oauth_spoe"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12291-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_oauth_spoe"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"dc6c1de57f51b0cd","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":3,"unknown":0,"total":4},"items":[{"uid":"69957930a9a713a3","reportUrl":"../1942//#testresult/69957930a9a713a3","status":"broken","statusDetails":"TimeoutError: timed out waiting for action, stderr:\nRunning operation 13 with 1 task\n  - task 14 on unit-haproxy-route-requirer3-0\n\nWaiting for task 14...\nERROR timed out waiting for results from: unit haproxy-route-requirer3/0","time":{"start":1769267767520,"stop":1769268033428,"duration":265908}},{"uid":"6457dd66566b11f6","reportUrl":"../1863//#testresult/6457dd66566b11f6","status":"passed","time":{"start":1768662963571,"stop":1768663190690,"duration":227119}},{"uid":"8f29d632a497c112","reportUrl":"../1785//#testresult/8f29d632a497c112","status":"passed","time":{"start":1768058192676,"stop":1768058414602,"duration":221926}}]},"tags":["abort_on_fail"]},"source":"4c34a58c075133ab.json","parameterValues":[]}