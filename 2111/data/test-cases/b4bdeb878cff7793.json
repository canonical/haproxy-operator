{"uid":"b4bdeb878cff7793","name":"test_oauth_spoe","fullName":"tests.integration.test_oauth_spoe#test_oauth_spoe","historyId":"7e6badc8101c68570b5a6b655eca330e","time":{"start":1771687148013,"stop":1771687332386,"duration":184373},"description":"\n    Deploy haproxy.\n    Deploy three anycharms that implement haproxy-route using three different hostnames.\n    Protect two of them with haproxy-spoe-auth.\n    The two protected ones should require OIDC authentication.\n    The unprotected one can be accessed directly.\n    ","descriptionHtml":"<pre><code>Deploy haproxy.\nDeploy three anycharms that implement haproxy-route using three different hostnames.\nProtect two of them with haproxy-spoe-auth.\nThe two protected ones should require OIDC authentication.\nThe unprotected one can be accessed directly.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"lxd_juju","time":{"start":1771686938253,"stop":1771687061018,"duration":122765},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1771687061018,"stop":1771687061945,"duration":927},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_manager","time":{"start":1771687061945,"stop":1771687135909,"duration":73964},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771687135909,"stop":1771687135909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"iam_bundle","time":{"start":1771687135909,"stop":1771687143360,"duration":7451},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"any_charm_haproxy_route_deployer","time":{"start":1771687135909,"stop":1771687135909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"application","time":{"start":1771687143361,"stop":1771687146656,"duration":3295},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"certificate_provider_application","time":{"start":1771687146657,"stop":1771687147601,"duration":944},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"haproxy_spoe_auth_deployer","time":{"start":1771687146657,"stop":1771687146657,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"configured_application_with_tls_base","time":{"start":1771687147601,"stop":1771687148012,"duration":411},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1771687148012,"stop":1771687148013,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"configured_application_with_tls","time":{"start":1771687148013,"stop":1771687148013,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Deploy haproxy.\n    Deploy three anycharms that implement haproxy-route using three different hostnames.\n    Protect two of them with haproxy-spoe-auth.\n    The two protected ones should require OIDC authentication.\n    The unprotected one can be accessed directly.\n    ","status":"passed","steps":[],"attachments":[{"uid":"fdd0fb46f89d04fd","name":"log","source":"fdd0fb46f89d04fd.txt","type":"text/plain","size":930567}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"configured_application_with_tls::0","time":{"start":1771687332387,"stop":1771687332387,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1771687332387,"stop":1771687332387,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1771687332388,"stop":1771687332388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"any_charm_haproxy_route_deployer::0","time":{"start":1771687332388,"stop":1771687332388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"haproxy_spoe_auth_deployer::0","time":{"start":1771687332388,"stop":1771687332388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_oauth_spoe"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12420-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_oauth_spoe"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a5df3ae3a156886f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":7},"items":[{"uid":"321cec6a6e1bccd6","reportUrl":"../2088//#testresult/321cec6a6e1bccd6","status":"passed","time":{"start":1771082591793,"stop":1771082894286,"duration":302493}},{"uid":"8e5552c9ac11c0ac","reportUrl":"../2033//#testresult/8e5552c9ac11c0ac","status":"passed","time":{"start":1770477934171,"stop":1770478160310,"duration":226139}},{"uid":"4c34a58c075133ab","reportUrl":"../1978//#testresult/4c34a58c075133ab","status":"passed","time":{"start":1769872732776,"stop":1769872964878,"duration":232102}},{"uid":"69957930a9a713a3","reportUrl":"../1942//#testresult/69957930a9a713a3","status":"broken","statusDetails":"TimeoutError: timed out waiting for action, stderr:\nRunning operation 13 with 1 task\n  - task 14 on unit-haproxy-route-requirer3-0\n\nWaiting for task 14...\nERROR timed out waiting for results from: unit haproxy-route-requirer3/0","time":{"start":1769267767520,"stop":1769268033428,"duration":265908}},{"uid":"6457dd66566b11f6","reportUrl":"../1863//#testresult/6457dd66566b11f6","status":"passed","time":{"start":1768662963571,"stop":1768663190690,"duration":227119}},{"uid":"8f29d632a497c112","reportUrl":"../1785//#testresult/8f29d632a497c112","status":"passed","time":{"start":1768058192676,"stop":1768058414602,"duration":221926}}]},"tags":["abort_on_fail"]},"source":"b4bdeb878cff7793.json","parameterValues":[]}